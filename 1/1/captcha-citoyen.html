<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>V√©rification de s√©curit√© ‚Äî ouaisfi.eu</title>
<meta name="description" content="Prouvez que vous n'√™tes pas un √©ditorialiste RTL.">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
background:#f0f2f5;
min-height:100vh;
display:flex;align-items:center;justify-content:center;
padding:2rem;
}

.captcha-container{
background:#fff;
border-radius:8px;
box-shadow:0 2px 10px rgba(0,0,0,.1);
max-width:450px;
width:100%;
overflow:hidden;
}

.captcha-header{
background:linear-gradient(90deg,#4285f4,#34a853);
color:#fff;
padding:1.25rem;
display:flex;align-items:center;gap:1rem;
}
.captcha-header .icon{font-size:2rem}
.captcha-header h1{font-size:1.1rem;font-weight:500}

.captcha-body{padding:1.5rem}

.captcha-question{
font-size:1.1rem;
margin-bottom:1.5rem;
line-height:1.5;
}

.captcha-options{display:flex;flex-direction:column;gap:.75rem}

.option{
display:flex;align-items:center;gap:1rem;
padding:1rem;
border:2px solid #e0e0e0;
border-radius:8px;
cursor:pointer;
transition:all .2s;
}
.option:hover{border-color:#4285f4;background:#f8f9ff}
.option.selected{border-color:#34a853;background:#e8f5e9}
.option.wrong{border-color:#ea4335;background:#fce8e6;animation:shake .5s}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}

.option input{display:none}
.option .radio{
width:20px;height:20px;
border:2px solid #ccc;
border-radius:50%;
display:flex;align-items:center;justify-content:center;
flex-shrink:0;
}
.option.selected .radio{border-color:#34a853;background:#34a853}
.option.selected .radio::after{content:'‚úì';color:#fff;font-size:.75rem}
.option.wrong .radio{border-color:#ea4335;background:#ea4335}
.option.wrong .radio::after{content:'‚úó';color:#fff;font-size:.75rem}
.option span{font-size:.95rem;line-height:1.4}

.captcha-footer{
padding:1rem 1.5rem;
background:#f9f9f9;
border-top:1px solid #eee;
display:flex;justify-content:space-between;align-items:center;
}
.captcha-footer small{color:#666;font-size:.8rem}
.verify-btn{
padding:.6rem 1.5rem;
background:#4285f4;
color:#fff;
border:none;
border-radius:4px;
font-size:.95rem;
cursor:pointer;
transition:all .2s;
}
.verify-btn:hover{background:#3367d6}
.verify-btn:disabled{background:#ccc;cursor:not-allowed}

/* RESULT SCREENS */
.result-screen{
display:none;
text-align:center;
padding:3rem 1.5rem;
}
.result-screen.show{display:block}
.result-screen .icon{font-size:4rem;margin-bottom:1rem}
.result-screen h2{font-size:1.5rem;margin-bottom:1rem}
.result-screen p{color:#666;margin-bottom:1.5rem;line-height:1.6}
.result-screen a{
display:inline-block;
padding:.75rem 1.5rem;
background:#34a853;
color:#fff;
text-decoration:none;
border-radius:4px;
}
.result-screen.fail a{background:#ea4335}

/* PROGRESS */
.progress-dots{
display:flex;justify-content:center;gap:.5rem;
margin-bottom:1.5rem;
}
.dot{
width:10px;height:10px;
background:#e0e0e0;
border-radius:50%;
}
.dot.active{background:#4285f4}
.dot.done{background:#34a853}

.question-counter{
font-size:.85rem;
color:#666;
margin-bottom:1rem;
}
</style>
</head>
<body>

<div class="captcha-container">
<div class="captcha-header">
<span class="icon">üõ°Ô∏è</span>
<h1>V√©rification de s√©curit√©</h1>
</div>

<!-- QUIZ BODY -->
<div class="captcha-body" id="quiz">
<div class="progress-dots" id="progress">
<div class="dot active"></div>
<div class="dot"></div>
<div class="dot"></div>
</div>

<div class="question-counter">Question <span id="qnum">1</span>/3</div>

<div class="captcha-question" id="question">
Quel est le taux r√©el de fraude sociale en Belgique selon l'ONEM ?
</div>

<div class="captcha-options" id="options">
<!-- Options g√©n√©r√©es par JS -->
</div>
</div>

<!-- SUCCESS -->
<div class="result-screen" id="success">
<div class="icon">‚úÖ</div>
<h2>V√©rification r√©ussie !</h2>
<p>F√©licitations, vous √™tes un citoyen inform√©. Vous connaissez les vrais chiffres que RTL n'a pas montr√©s.</p>
<a href="petition-countdown.html">Acc√©der au site ‚Üí</a>
</div>

<!-- FAIL -->
<div class="result-screen fail" id="fail">
<div class="icon">üö´</div>
<h2>Acc√®s refus√©</h2>
<p id="fail-message">Il semblerait que vous ayez besoin d'une mise √† jour de vos connaissances...</p>
<a href="index.html">D√©couvrir les vrais chiffres ‚Üí</a>
</div>

<div class="captcha-footer" id="footer">
<small>üîí ouaisfi.eu protection</small>
<button class="verify-btn" id="verifyBtn" disabled>V√©rifier</button>
</div>
</div>

<script>
const questions = [
    {
        q: "Quel est le taux r√©el de fraude sociale en Belgique selon l'ONEM ?",
        options: [
            { text: "Moins de 3%", correct: true },
            { text: "15 √† 20%", correct: false },
            { text: "Plus de 50% (tous fraudeurs !)", correct: false, rtl: true },
            { text: "Environ 35%", correct: false }
        ],
        fail: "Le taux r√©el est inf√©rieur √† 3%. C'est le chiffre que RTL n'a pas montr√©."
    },
    {
        q: "Combien co√ªte la fraude fiscale par an en Belgique ?",
        options: [
            { text: "200 millions ‚Ç¨", correct: false },
            { text: "1 milliard ‚Ç¨", correct: false },
            { text: "30 milliards ‚Ç¨", correct: true },
            { text: "500 millions ‚Ç¨", correct: false }
        ],
        fail: "La fraude fiscale co√ªte environ 30 MILLIARDS ‚Ç¨/an. 150 fois plus que la fraude sociale."
    },
    {
        q: "Combien de plaintes ont √©t√© d√©pos√©es au CSA contre 'Tous Fraudeurs' ?",
        options: [
            { text: "Une dizaine", correct: false },
            { text: "Plus de 400", correct: true },
            { text: "Aucune, le programme √©tait parfait", correct: false, rtl: true },
            { text: "Environ 50", correct: false }
        ],
        fail: "Plus de 400 plaintes ‚Äî un record historique en Belgique francophone."
    }
];

let currentQ = 0;
let selected = null;
const quiz = document.getElementById('quiz');
const successScreen = document.getElementById('success');
const failScreen = document.getElementById('fail');
const footer = document.getElementById('footer');

function shuffle(arr) {
    return arr.sort(() => Math.random() - 0.5);
}

function loadQuestion() {
    const q = questions[currentQ];
    document.getElementById('question').textContent = q.q;
    document.getElementById('qnum').textContent = currentQ + 1;
    
    const dots = document.querySelectorAll('.dot');
    dots.forEach((d, i) => {
        d.className = 'dot';
        if (i < currentQ) d.classList.add('done');
        if (i === currentQ) d.classList.add('active');
    });
    
    const optionsDiv = document.getElementById('options');
    optionsDiv.innerHTML = '';
    
    shuffle([...q.options]).forEach((opt, i) => {
        const div = document.createElement('div');
        div.className = 'option';
        div.innerHTML = `
            <input type="radio" name="answer" id="opt${i}">
            <span class="radio"></span>
            <span>${opt.text}</span>
        `;
        div.dataset.correct = opt.correct;
        div.dataset.rtl = opt.rtl || false;
        div.onclick = () => selectOption(div);
        optionsDiv.appendChild(div);
    });
    
    selected = null;
    document.getElementById('verifyBtn').disabled = true;
}

function selectOption(div) {
    document.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
    div.classList.add('selected');
    selected = div;
    document.getElementById('verifyBtn').disabled = false;
}

document.getElementById('verifyBtn').onclick = () => {
    if (!selected) return;
    
    const correct = selected.dataset.correct === 'true';
    const isRTL = selected.dataset.rtl === 'true';
    
    if (correct) {
        selected.classList.add('selected');
        currentQ++;
        
        if (currentQ >= questions.length) {
            // SUCCESS
            quiz.style.display = 'none';
            footer.style.display = 'none';
            successScreen.classList.add('show');
        } else {
            setTimeout(loadQuestion, 500);
        }
    } else {
        selected.classList.remove('selected');
        selected.classList.add('wrong');
        
        setTimeout(() => {
            quiz.style.display = 'none';
            footer.style.display = 'none';
            
            let msg = questions[currentQ].fail;
            if (isRTL) {
                msg = "üö® ALERTE : R√©ponse typique d'un √©ditorialiste RTL d√©tect√©e ! " + msg;
            }
            document.getElementById('fail-message').textContent = msg;
            failScreen.classList.add('show');
        }, 1000);
    }
};

loadQuestion();
</script>

</body>
</html>
